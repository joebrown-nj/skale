$(document).on('click','.lbc',function(){logButtonClick(this)});function logButtonClick(t){var d={'target':$(t).attr('href'),'url':window.location.pathname,'detail':$(t).attr('aria-describedby')};$.ajax({type:'POST',url:'/log-button-click',data:d,});return!1}
$(document).on('click','.mbtn',function(t){const url=!t.target.href?'':new URL(t.target.href);var slug=!t.target.pathname?'/':t.target.pathname;const interests=!url?'':url.searchParams.get("interests");const queryString=interests?'interests='+interests:'';ajaxGetPageContent(slug,queryString,t);$('.offcanvas').offcanvas('hide');return!1});function setActiveNavItem(url){$('#oCNav .active').removeClass('active');var adjustedUrl=url=='/'||url==''?url:url.replace('/','').replaceAll('/','-');adjustedUrl=adjustedUrl.trim();if(url!='/')
$('.navbar-nav li.'+adjustedUrl).addClass('active');else $('.navbar-nav li').first().addClass('active')}
function handlePopState(event){if(event.state.page){ajaxGetPageContent(event.state.page,'',event,!1)}};window.onpopstate=handlePopState;function ajaxGetPageContent(slug,queryString,event,addToHistory=!0){removeAllAlerts();var url=slug+(queryString&&queryString.length>0?'?'+queryString:'');if(addToHistory){var page=event.state?event.state.page:slug;var title=event.state?event.state.title:document.title;history.pushState({page:page,title:title},title,url)}
setActiveNavItem(slug);$.ajax({type:'GET',url:slug+'?header=false&footer=false'+(queryString&&queryString.length>0?'&'+queryString:''),success:function(data){console.log('ajaxGetPageContent success:',data);$('.page-content').html(data);$(window).scrollTop(0)}}).done(function(){if(!slug||slug.length==0||slug=='/'){$('header.menu-bar').removeClass('menu-bar-bg')}else{$('header.menu-bar').addClass('menu-bar-bg')}
$.ajax({type:'GET',url:slug+'?meta-data=1',success:function(data){if(data){var json=$.parseJSON(data);$('meta[name=description]').attr('content',json.description);$('meta[name=keywords]').attr('content',json.keywords);$('head title').text(json.title);$('link[rel="canonical"]').attr('href',window.location.href)}}})});return!1}
$(document).ajaxSend(function(){showOverlay()});$(document).ajaxStop(function(){hideOverlay()});function showOverlay(){$('#overlay').fadeIn(300);$('body').css({'overflow':'hidden','padding-right':'17px'})}
function hideOverlay(){setTimeout(function(){$('#overlay').fadeOut(300);$('body').css({'overflow':'auto','padding-right':''})},250)}
function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1)}
function removeAllAlerts(){$('.alert').remove()}
$(document).on('click','#newsletterForm button',function(){let errors=[];showOverlay();$('#newsletterForm .required').each(function(t){if(!$(this).val()){errors.push(capitalizeFirstLetter(this.name)+' is required')}});$('#newsletterForm .alert-danger').remove();$('#newsletterForm .alert-success').remove();if(errors.length>0){$('#newsletterForm').prepend('<div class="alert alert-danger" role="alert">'+errors.join('. ')+'.</div>');hideOverlay()}else{$.ajax({type:'POST',url:'/email-list-signup?header=false&footer=false',data:$('#newsletterForm').serializeArray(),dataType:"json",success:function(data){console.log(data);if(data.error&&data.error.length>0){$('#newsletterForm').prepend('<div class="alert alert-success" role="alert">'+data.error+'</div>')}
if(data.success&&data.success.length>0){$('#newsletterForm').prepend('<div class="alert alert-success" role="alert">'+data.success+'</div>')}}}).done(function(){hideOverlay()})}
return!1});$(document).on('click','#contactForm button',function(){let errors=[];showOverlay();$('#contactForm .required').each(function(t){if(!$(this).val()){errors.push(capitalizeFirstLetter(this.name)+' is required')}});$('#contactForm .alert-danger').remove();$('#contactForm .alert-success').remove();if(errors.length>0){$('#contactForm').prepend('<div class="alert alert-danger" role="alert">'+errors.join('<br/>')+'.</div>');hideOverlay()}else{$.ajax({type:'POST',url:'/contact-form?header=false&footer=false',data:$('#contactForm').serializeArray(),dataType:"json",success:function(data){if(data.error&&data.error.length>0){$('#contactForm').prepend('<div class="alert alert-danger" role="alert">'+data.error+'</div>')}
if(data.success&&data.success.length>0){$('#contactForm').prepend('<div class="alert alert-success" role="alert">'+data.success+'</div>')}}}).done(function(){hideOverlay()})}
return!1});$(document).on('scroll',function(){if($(".home-callout").length){var header=$('header.menu-bar');var hieghtThreshold=$(".home-callout").offset().top-150;var scroll=$(window).scrollTop();if(scroll>=hieghtThreshold){header.addClass('menu-bar-bg')}else{header.removeClass('menu-bar-bg')}}});AOS.init({duration:900,easing:'ease-out-cubic'});window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}
gtag('js',new Date());gtag('config','G-5HMT5HBM1Y')